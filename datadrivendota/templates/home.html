{% extends "base.html" %}

{% block topbar %}
{% endblock topbar %}
{% block page_title %}{% endblock page_title %}

{% block content %}


<div class='jumbotron'>
    <h1>Welcome to DataDrivenDota</h1>
    <p>We think a chart is worth a thousand stats, and are building the framework to prove it.</p>
    <small>DDD is a passion/learning project dedicated to doing data analysis right for Dota 2.  We are currently boiling down our code for better charts, deeper analytics, and more features.  Check back soon, or follow our <a href="{% url 'blog:index' %}">blog</a> and <a href="https://twitter.com/datadrivendota">twitter</a>!</small>
</div>
<div class='container'>
  <div class='row'>

    <h1>Example charts: Slark by Dendi</h1>

    <div id='slark-chart' class='col-md-8'>
      <h4>Slark Tower Damage by Skill Level, with Dendi Games</h4>
    </div>

    <div id='endgame-chart' class='col-md-4'>
      <h4>Dendi's End-of-Game Kills</h4>
    </div>

  </div>
</div>

{% endblock content %}

{% block extra_js %}
    <script type="text/javascript">

      window.apiHit(
        "#slark-chart",
        '{% url "heroes:api_hero_performance_chart" %}',
          $.param({
            hero: '{{chart_hero.steam_id}}',
            player: '{{chart_player.steam_id}}',
            game_modes: [1, 2, 3, 4, 5],
            division: 'Skill',
            x_var: 'duration',
            y_var: 'tower_damage',
            group_var: 'skill_name',
            panel_var: 'is_win',

            width: 300,
            height: 300,
          }, true
        )
      );


      window.apiHit(
        "#endgame-chart",
        '{% url "matches:api_endgame_chart" %}',
          $.param({

            players: '{{chart_player.steam_id}}',
            game_modes: [1, 2, 3, 4, 5],
            x_var: 'duration',
            y_var: 'kills',
            panel_var: 'None',
            group_var: 'player',
            width: 300,
            height: 300,
          }, true
        )
      );

    </script>
{% endblock extra_js %}
