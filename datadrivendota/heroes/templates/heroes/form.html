{% extends "heroes/base.html" %}

{% block title %}{{ title }}{% endblock title %}

{% block page_title %}{{ title }}
<span class='glyphicon glyphicon-question-sign tourglyph' title='Click me!'></span>
{% endblock page_title %}

{% block content %}
  {% include "_image_form_embed.html" %}
{% endblock content %}

{% block extra_js %}
<script type="text/javascript">
  var input_data;
  d3.json('{{MEDIA_URL}}{{json_data}}',function(source){
    var x;
    input_data = source;
    window.d3ening.plot(source, '#chart')
  });
</script>
{% endblock extra_js %}

{% block tour %}
<script type="text/javascript">
  $(function () {
    var tour = new Tour({
      backdrop: true
    });

    tour.addSteps([
      {
        orphan: true,
        title: "Welcome!",
        content: "These hero pages let you chart stats, like endgame kills or effective hp by level, for heroes you are interested in."
      },
      {
        element: ".chart-form",
        title: "Asking questions",
        content: "Specify what attributes you want to render here."
      },
      {
        element: "ul.nav-tabs",
        title: "Other questions",
        content: "For other charts, try these subtabs.",
        placement: "bottom"
      },
      {
        orphan: true,
        title: "Ready to go!",
        content: "Challenge: how does your favorite hero compare to your least favorite?"
      }
    ]);

    $(".tourglyph").on("click",function(){
      tour.restart();
    })

  });
</script>
{% endblock tour %}

