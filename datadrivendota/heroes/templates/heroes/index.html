{% extends "heroes/base.html" %}

{% block title %}Hero List{% endblock %}

{% block page_title %}Hero Index{% endblock %}

{% block content %}
<select id='class-selector'>
  {% for role in role_list %}
    <option value="{{role.name}}">{{role.name}}</option>
  {% endfor %}
  </select>
  <div class="row">
    {% for hero in hero_list %}
      {% if hero.thumbshot and hero.name %}
        <div class="
        {% for assignment in hero.assignment_set.all %}
          {{assignment.role.name}}
        {% endfor %}
        col-md-2">
          <a href="{% url 'heroes:detail' hero_name=hero.machine_name %}" class="thumbnail">
            <img src="{{ hero.mugshot.url }}" alt="{{ hero.name }}" class="hero-portrait">
            <p class='overlayer'>{{ hero.name }}</p>
          </a>
        </div>
      {% endif %}
    {% endfor %}
  </div>
{% endblock %}
{% block extra_css %}
  <style type="text/css">
  #class-selector{
    width: 100px;
    }
    </style>
{% endblock extra_css %}
{% block extra_js %}
  <script type="text/javascript">
$(function(){
  $('#class-selector').change(
    function(){
      var role_select = $('#class-selector').find(':selected').text();
      $('.col-md-2:not(.'+role_select+')').fadeOut();
      $('.col-md-2.'+role_select).fadeIn();
    }
  )
})
  </script>
{% endblock extra_js %}
