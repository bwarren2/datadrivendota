{% extends "hero_base.html" %}

{% block title %}{{ hero.name }}{% endblock %}

{% block page_title %}{% endblock %}

{% block content %}
<div style='display: inline-block'>
  <h1>{{ hero.name }}</h1>
  <img class="hero" src='{{ hero.mugshot.url }}'>
  <p class="lore">
    {{ hero.lore }}
  </p>
  </div>
  <div >
    <span id='chart1'></span>
    <span id='chart2'></span>
    <span id='chart3'></span>
  </div>
{% endblock %}

{% block extra_js %}
    <script type="text/javascript">
        $( document ).ready(function() {


            $.get('{% url "heroes:hero_performance_api" %}',
                {hero: '{{ hero.name }}',
                x_var: 'duration',
                y_var: 'kills',
                group_var: 'skill',
                },
                function(json){
                    $( "#chart1" ).html('<img id="theImg" src='+json['url']+' />')
                },
                'json'
            );

            $.get('{% url "heroes:hero_performance_api" %}',
                {hero: '{{ hero.name }}',
                x_var: 'duration',
                y_var: 'K-D+.5*A',
                group_var: 'skill',
                },
                function(json){
                    $( "#chart2" ).html('<img id="theImg" src='+json['url']+' />')
                },
                'json'
            );

            $.get('{% url "heroes:hero_performance_api" %}',
                {hero: '{{ hero.name }}',
                x_var: 'duration',
                y_var: 'gold',
                group_var: 'skill',
                },
                function(json){
                    $( "#chart3" ).html('<img id="theImg" src='+json['url']+' />')
                },
                'json'
            );

        });
    </script>
{% endblock extra_js  %}



