{% extends "row_base.html" %}
{% block title %}{% endblock title %}
{% block page_title %}Health checks{% endblock page_title %}

{% block aligned_content %}
<div class='col-md-12'>
    <h1>Metrics</h1>
    <div class='row'>
        <div class='col-md-6'>
        <table class='table'>
            <thead>
                <tr>
                    <td>Category</td>
                    <td>Count</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Games with no winner (past week)</td>
                    <td>{{winnerless_matches_week}}</td>
                </tr>
                <tr>
                    <td>Games with no winner (all time)</td>
                    <td>{{winnerless_matches_alltime}}</td>
                </tr>
                <tr>
                    <td>Leagues without a name that aren't failed</td>
                    <td>{{unnamed_unfailed_leagues}}</td>
                </tr>
            </tbody>
        </table>
        </div>
    </div>
    <div id="chart-js-test">
      <h1>ChartJS test</h1>
      <div class="test-area">
        <canvas id="myChart" width="400" height="400"></canvas>
        <script>
          function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
          }
          $(document).ready(function() {
            var data = [];
            for (var i = 0; i < 10000; i++) {
              data.push({
                x: getRandomInt(0, 1000),
                y: getRandomInt(0, 1000)
              });
            }
            var ctx = $("#myChart");
            Chart.defaults.global.responsive = false;
            Chart.defaults.global.maintainAspectRatio = true;
            var myChart = new Chart(ctx, {
              type: 'scatter',
              data: {
                labels: [],
                datasets: [{
                  label: '# of Votes',
                  data: data,
                  pointBackgroundColor: '#f00',
                  pointBorderColor: '#f00',
                  backgroundColor: '#333'
                }]
              },
              options: {
                title: {
                  display: false,
                },
                scales: {
                  xAxes: [{
                    position: 'top',
                    gridLines: {
                      zeroLineColor: "rgba(0,255,0,1)"
                    },
                    scaleLabel: {
                      display: true,
                      labelString: 'x axis'
                    }
                  }],
                  yAxes: [{
                    position: 'right',
                    gridLines: {
                      zeroLineColor: "rgba(0,255,0,1)"
                    },
                    scaleLabel: {
                      display: true,
                      labelString: 'y axis'
                    }
                  }]
                }
              }
            });
          });
        </script>
      </div>
    </div>
    <h1>Development</h1>
    <div class='row'>
        <div class='col-md-2'>
            <h2>Travis</h2>
            <img src="https://magnum.travis-ci.com/bwarren2/datadrivendota.svg?token=NmrM9gUUPxiFYksypagE">
        </div>

        <div class='col-md-2'>
            <h2>Heroku</h2>
            <ul class='list-group'>
                <li>
                    <a href="https://dashboard.heroku.com/apps/datadrivendota/metrics/web">App Metrics</a>
                </li>
                <li>
                    <a href="https://postgres.heroku.com/databases/datadrivendota-heroku-postgresql-jade">DB Metrics</a>
                </li>
            </ul>
        </div>
        <div class='col-md-6'>
            <h2>New Relic Dash</h2>
            <ul class='list-group'>
                <li>
                    <a href="https://rpm.newrelic.com/accounts/334522/applications/2147266">App Metrics</a>

                </li>
            </ul>

        </div>

    </div>
</div>


<div class='col-md-12'>
    <h1>Design</h1>
    <div class='row'>
        <div class='col-md-2'>
            <h2>CSS</h2>
            <ul class='list-group'>
                <li>
                    <a href="{% url 'health:styles' %}">Swatch Page</a>
                </li>
            </ul>

        </div>
    </div>
</div>


<div class='col-md-12'>
    <h1>BizDev</h1>

    <div class='row'>
        <div class='col-md-2'>
            <h2>Adsense</h2>
            <ul class='list-group'>
                <li>
                    <a href="https://www.google.com/adsense/app#home">Ad Revenue</a>
                </li>
            </ul>
        </div>

        <div class='col-md-2'>
            <h2>GAnalytics</h2>
            <ul class='list-group'>
                <li>
                    <a href="https://www.google.com/analytics/web/?hl=en&pli=1#report/visitors-overview/a51075768w83194093p86261914/">Demography</a>

                </li>
            </ul>

        </div>
    </div>

    <h1>Stripe</h1>
    <div class='row'>
        <div class='col-md-12' id='chart-30DRev'></div>
    </div>
    <div class='row'>
        <div class='col-md-12' id='chart-customers'></div>
    </div>
    <div class='row'>
        <div class='col-md-12' id='chart-new-customers'></div>
    </div>
</div>
{% endblock aligned_content %}
